const TelegramBot = require('node-telegram-bot-api');
const getChatMember = require("./getMember");
const API_KEY_BOT = require("./src/botKey")
const commands = require("./src/commands")

const bot = new TelegramBot(API_KEY_BOT, {polling: true});

let user = ""

bot.on('text', async msg => {

    user = msg.chat.id

    try {

        if(msg.text.startsWith('/start')) {
            await bot.sendMessage(user, `–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –Ω–∞ –∫–∞–Ω–∞–ª https://t.me/+PLmjJxvAR0gxNzFi`, {

                reply_markup: {
                    keyboard: [['–≥–æ—Ç–æ–≤–æ!']]
                }

            })
        }

        if(msg.text.startsWith('–≥–æ—Ç–æ–≤–æ!')) {
            getChatMember(user, bot)
        }

        if(msg.text.startsWith('/info')) {
            getChatMember(user, bot)
            
        }

    }
    catch(error) {
        console.log(error);
    }

})

bot.on("callback_query", async ctx =>{
    try{
        
        switch(ctx.data){

            case "MFO":
                await bot.sendMessage(user, "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –≤ –ú–§–û \n \n –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º üåç –æ–Ω–ª–∞–π–Ω –∏ —É–¥–∞–ª–µ–Ω–Ω–æ –ø–æ –≤—Å–µ–º—É –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—É, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–∞—à–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è. –û–ø–ª–∞—Ç–∞ –Ω–∞—à–∏—Ö —É—Å–ª—É–≥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ –ö–∞—Å–ø–∏ üí≥. –ú—ã —Ç–∞–∫–∂–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –¥–æ–≥–æ–≤–æ—Ä üìú, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é –∑–∞—â–∏—Ç—É –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω. \nüí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —É—Å–ª—É–≥–∏:  \n –°—É–º–º–∞ –æ–¥–Ω–æ–≥–æ –∑–∞–π–º–∞:  9 000 KZT. \n \n–ø–µ—Ä–µ–π—Ç–∏ –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É:  @SoyProgrammador")
                break

            case "arrest":
                await bot.sendMessage(user, "–û—Ç–º–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–¥–ø–∏—Å–∏ –∏ —Å–Ω—è—Ç–∏–µ –∞—Ä–µ—Å—Ç–∞ \n \n üöÄ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Å–Ω—è—Ç–∏—è –∞—Ä–µ—Å—Ç–∞ –∏ –æ—Ç–º–µ–Ω—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–¥–ø–∏—Å–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å–µ–≥–æ 3‚Äì5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π. \n \n  –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç –≤–∞–º? \n    1Ô∏è‚É£ 	–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ —á–∞—Å—Ç–Ω–æ–≥–æ —Å—É–¥–µ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å 25% –æ—Ç —Å—É–º–º—ã –¥–æ–ª–≥–∞, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É—é—Ç —á–∞—Å—Ç–Ω—ã–µ —Å—É–¥–µ–±–Ω—ã–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏. \n   2Ô∏è‚É£	 –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—á–µ—Ç–æ–≤: –≤–∞—à–∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Å—á–µ—Ç–∞ –±—É–¥—É—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤–Ω–æ–≤—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. \n 	3Ô∏è‚É£ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—Ä–µ—Å—Ç–æ–≤ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ: –∞—Ä–µ—Å—Ç –±—É–¥–µ—Ç —Å–Ω—è—Ç, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Ä–∞—Å–ø–æ—Ä—è–∂–∞—Ç—å—Å—è —Å–≤–æ–∏–º –∏–º—É—â–µ—Å—Ç–≤–æ–º –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. \n  \nüí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —É—Å–ª—É–≥–∏: \n ‚Ä¢	5000 KZT –∑–∞ –æ–¥–∏–Ω –∞—Ä–µ—Å—Ç. \n  \n–ø–µ—Ä–µ–π—Ç–∏ –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É:  @SoyProgrammador")
                break

            case "bankruptcy":
                await bot.sendMessage(user, "–í–Ω–µ—Å—É–¥–µ–±–Ω–æ–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ \n \n üí° –ï—Å–ª–∏ –≤–∞—à –¥–æ–ª–≥ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1600 –ú–†–ü (6 291 200 KZT –Ω–∞ 2025 –≥–æ–¥), –≤—ã –Ω–µ –∏–º–µ–µ—Ç–µ –∏–º—É—â–µ—Å—Ç–≤–∞, –∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞ –±–æ–ª–µ–µ 12 –º–µ—Å—è—Ü–µ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –≤–Ω–µ—Å—É–¥–µ–±–Ω–æ–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ.–¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π, –µ—Å–ª–∏: \n üìå –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∞–¥—Ä–µ—Å–Ω—É—é —Å–æ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ–º–æ—â—å (–ê–°–ü), –∏ –ø—Ä–æ—Å—Ä–æ—á–∫–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ 6 –º–µ—Å—è—Ü–µ–≤. \n \n  üéØ –ß—Ç–æ –¥–∞–µ—Ç –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ? \n ‚úîÔ∏è –°–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–≥–æ–≤ –ø–µ—Ä–µ–¥ –±–∞–Ω–∫–∞–º–∏ –∏ –ú–§–û. \n ‚úîÔ∏è –°–Ω—è—Ç–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–æ –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤. \n ‚ùå –ü–æ—Å–ª–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ –≤—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –±—Ä–∞—Ç—å –∫—Ä–µ–¥–∏—Ç—ã –∏ –∏–ø–æ—Ç–µ–∫—É –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –ª–µ—Ç. \n  ‚õî –ü–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ 7 –ª–µ—Ç. \n üîç –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ–¥ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ 3 –ª–µ—Ç. \n \n üí≥ –°—Ç–æ–∏–º–æ—Å—Ç—å —É—Å–ª—É–≥–∏ ‚Äî –æ—Ç 30 000 –¥–æ 70 000 KZT. \n–ø–µ—Ä–µ–π—Ç–∏ –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É:  @SoyProgrammador ")
                break

            case "debt":
                await bot.sendMessage(user, "–†–∞–±–æ—Ç–∞ —Å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—è–º–∏ –±–∞–Ω–∫–æ–≤ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è \n \n  üíº –î–ª—è —É—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–µ–π –≤ –±–∞–Ω–∫–∞—Ö –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥. –¢–∞–∫–∏–µ –±–∞–Ω–∫–∏ —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –¥–æ–ª–≥–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç—Å—Ä–æ—á–µ–∫ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ª–æ–≤–∏–π –≤—ã–ø–ª–∞—Ç. \n \n üîπ –ú—ã –ø–æ–º–æ–∂–µ–º –≤–∞–º: \n ‚úîÔ∏è –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø–ª–∞–Ω —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏. \n ‚úîÔ∏è –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã —Å –±–∞–Ω–∫–æ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π. \n ‚úîÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏–π –∏ –∑–∞–ø—Ä–æ—Å–æ–≤. \n \n–ø–µ—Ä–µ–π—Ç–∏ –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É:  @SoyProgrammador ")
                break
        }

    }
    catch(error) {
        console.log(error);
    }
})

bot.setMyCommands(commands)